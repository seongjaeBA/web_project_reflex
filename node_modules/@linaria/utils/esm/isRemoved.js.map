{"version":3,"file":"isRemoved.js","names":["isRemoved","path","removed","currentPath","parent","parentPath","node","listKey","key","found","get","find","p"],"sources":["../src/isRemoved.ts"],"sourcesContent":["import type { NodePath } from '@babel/traverse';\n\n/**\n * Checks if a given path has been removed from the AST.\n */\nexport default function isRemoved(path: NodePath): boolean {\n  // Check if the input path has already been removed\n  if (path.removed) {\n    return true;\n  }\n\n  // Check if any of the parent paths have been removed\n  let currentPath: NodePath | null = path;\n  while (currentPath) {\n    const parent: NodePath | null = currentPath.parentPath;\n\n    if (parent) {\n      // If the parent path has been removed, return true\n      if (parent.removed || parent.node === null) {\n        return true;\n      }\n\n      const { listKey, key, node } = currentPath;\n      if (listKey) {\n        // If the current path is part of a list and the current node\n        // is not presented in this list, return true\n        const found = parent.get(listKey).find((p) => p.node === node);\n        if (!found) {\n          return true;\n        }\n      }\n      // If the current path is not part of a list and its node is not the same\n      // as the node in the parent object at the same key, return true\n      else if ((parent.get(key as string) as NodePath).node !== node) {\n        return true;\n      }\n    }\n\n    // Set the current path to its parent path and continue the loop\n    currentPath = parent;\n  }\n\n  // If the function has not returned true by this point, return false\n  return false;\n}\n"],"mappings":"AAEA;AACA;AACA;AACA,eAAe,SAASA,SAASA,CAACC,IAAc,EAAW;EACzD;EACA,IAAIA,IAAI,CAACC,OAAO,EAAE;IAChB,OAAO,IAAI;EACb;;EAEA;EACA,IAAIC,WAA4B,GAAGF,IAAI;EACvC,OAAOE,WAAW,EAAE;IAClB,MAAMC,MAAuB,GAAGD,WAAW,CAACE,UAAU;IAEtD,IAAID,MAAM,EAAE;MACV;MACA,IAAIA,MAAM,CAACF,OAAO,IAAIE,MAAM,CAACE,IAAI,KAAK,IAAI,EAAE;QAC1C,OAAO,IAAI;MACb;MAEA,MAAM;QAAEC,OAAO;QAAEC,GAAG;QAAEF;MAAK,CAAC,GAAGH,WAAW;MAC1C,IAAII,OAAO,EAAE;QACX;QACA;QACA,MAAME,KAAK,GAAGL,MAAM,CAACM,GAAG,CAACH,OAAO,CAAC,CAACI,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACN,IAAI,KAAKA,IAAI,CAAC;QAC9D,IAAI,CAACG,KAAK,EAAE;UACV,OAAO,IAAI;QACb;MACF;MACA;MACA;MAAA,KACK,IAAKL,MAAM,CAACM,GAAG,CAACF,GAAa,CAAC,CAAcF,IAAI,KAAKA,IAAI,EAAE;QAC9D,OAAO,IAAI;MACb;IACF;;IAEA;IACAH,WAAW,GAAGC,MAAM;EACtB;;EAEA;EACA,OAAO,KAAK;AACd"}